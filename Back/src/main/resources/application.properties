spring.profiles.active=local

server.servlet.session.timeout=1800

#jackson?? KST? ??
spring.jackson.time-zone=Asia/Seoul
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true
spring.security.user.name=${SPRING_SECURITY_USER_NAME}
spring.security.user.password=${SPRING_SECURITY_USER_PASSWORD}
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB

# ========================================
# Auto-Ban Configuration (산업 표준 기반)
# ========================================
auto-ban.enabled=true

# ========================================
# Flag Brute Force Protection
# ========================================
# 근거:
# - CTF 업계: 초당 10회 제한
# - REST API 표준: 분당 100회
# 설정: 1분에 100회 오답 → 30분 차단
# 효과: 자동화 스크립트 차단, 정상 사용자 보호
auto-ban.flag-brute.max-wrong-attempts=100
auto-ban.flag-brute.time-window-minutes=1
auto-ban.flag-brute.ban-duration-minutes=30

# ========================================
# API Rate Limiting (DDoS 방어)
# ========================================
# 근거:
# - Stripe: 초당 100회
# - GitHub: 시간당 5000회 (분당 83회)
# - REST API 표준: 분당 100회
# 설정: 초당 100회 이상 → 경고, 초당 200회 이상 → 차단
# 효과: 극단적 DDoS만 차단
auto-ban.rate-limit.max-requests-per-second=100
auto-ban.rate-limit.ban-duration-minutes=15

# ========================================
# Login Brute Force Protection
# ========================================
# 근거:
# - Fail2Ban: 10분에 3-5회 → 10분 차단
# - Cloudflare: 1분에 5회 → 1시간 차단
# - AWS WAF: 5분에 10-100회 (로그인)
# 설정: 5분에 50회 실패 → 1시간 차단
# 효과: 사용자 편의를 고려하여 여유있게 설정 (자동화 스크립트만 차단)
auto-ban.login-brute.max-failed-attempts=50
auto-ban.login-brute.time-window-minutes=5
auto-ban.login-brute.ban-duration-minutes=60

# ========================================
# Suspicious Payload Detection (SQL Injection/XSS)
# ========================================
# 근거: 명백한 공격 시도, 정상 사용자는 이런 패턴 없음
# 설정: 3회 감지 → 2시간 차단
# 효과: 엄격한 보안
auto-ban.suspicious-payload.max-attempts=3
auto-ban.suspicious-payload.ban-duration-minutes=120

# ========================================
# Directory Scanning Detection (404 스캐닝)
# ========================================
# 근거: 자동화된 취약점 스캐닝 도구 차단
# 설정: 5분에 50회 404 → 30분 차단
# 효과: 스캐닝 도구만 차단
auto-ban.not-found.max-attempts=50
auto-ban.not-found.time-window-minutes=5
auto-ban.not-found.ban-duration-minutes=30